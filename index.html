<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>GERADOR VIP DE SENSI</title>

<style>
@import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&display=swap');

body{
    margin:0;
    font-family:'Orbitron', sans-serif;
    background: radial-gradient(circle at top, #1a0000, #000);
    display:flex;
    justify-content:center;
    align-items:center;
    min-height:100vh;
    padding:15px;
    color:white;
    overflow:hidden;
}

/* PARTICLES */
#particles{
    position:fixed;
    top:0;
    left:0;
    width:100%;
    height:100%;
    z-index:-1;
}

/* LOGIN */
.login{
    background: linear-gradient(145deg,#111,#000);
    padding:20px;
    border-radius:20px;
    width:100%;
    max-width:320px;
    border:2px solid #ff3c00;
    box-shadow:0 0 20px #ff3c00;
    text-align:center;
}

/* APP */
.container{
    display:none;
    background: linear-gradient(145deg,#111,#000);
    padding:20px;
    border-radius:20px;
    width:100%;
    max-width:350px;
    border:2px solid #ff3c00;
    box-shadow:0 0 25px #ff3c00;
}

/* INPUTS */
input, select{
    width:100%;
    padding:10px;
    margin:8px 0 12px 0;
    border:none;
    border-radius:10px;
    box-sizing:border-box;
    background:#1a1a1a;
    color:#fff;
    border:1px solid #ff3c00;
}

/* BOT√ïES ESTILO FREE FIRE */
button{
    width:100%;
    padding:13px;
    border:none;
    border-radius:12px;
    background:linear-gradient(90deg,#ff3c00,#ff0000);
    color:white;
    font-weight:bold;
    cursor:pointer;
    transition:0.3s;
    box-shadow:0 0 10px #ff3c00;
}

button:hover{
    transform:scale(1.05);
    box-shadow:0 0 20px #ff0000;
}

/* BOT√ÉO TESTE */
.testeBtn{
    margin-top:10px;
    background:linear-gradient(90deg,#ff0000,#990000);
}

.testeBtn:hover{
    box-shadow:0 0 20px red;
}

/* RESULTADO HUD STYLE */
.resultado{
    margin-top:15px;
    background:#0d0d0d;
    padding:15px;
    border-radius:15px;
    border:1px solid #ff3c00;
    box-shadow:0 0 15px rgba(255,60,0,0.6);
    font-size:14px;
    line-height:1.6;
}

/* PAINEL DONO */
.adminPanel{
    display:none;
    margin-top:15px;
    background:#0a0a0a;
    padding:12px;
    border-radius:12px;
    border:1px solid #ff3c00;
    font-size:13px;
}

.keyItem{
    background:#1a0000;
    padding:6px;
    margin-top:6px;
    border-radius:8px;
    display:flex;
    justify-content:space-between;
    align-items:center;
    font-size:12px;
    border:1px solid #ff3c00;
}

</style>
</head>

<body>

<canvas id="particles"></canvas>

<!-- LOGIN -->
<div class="login" id="loginBox">
    <h2>üîê LOGIN VIP</h2>
    <input type="text" id="keyInput" placeholder="Digite sua Key">
    <button onclick="verificarKey()">ENTRAR</button>
    <p id="erro" style="color:red;"></p>
</div>

<!-- APP -->
<div class="container" id="appBox">
    <h1 style="text-align:center;">GERADOR VIP DE SENSI</h1>

    <label>Escolha o Celular:</label>
    <select id="celular">
        <option value="Samsung">Samsung</option>
        <option value="Motorola">Motorola</option>
        <option value="Xiaomi">Xiaomi</option>
    </select>

    <label>Tipo de Sensibilidade:</label>
    <select id="tipoSensi">
        <option value="alta">Alta</option>
        <option value="media">M√©dia</option>
        <option value="baixa">Baixa</option>
    </select>

    <button onclick="criarSensi()">CRIAR SENSI</button>

    <button class="testeBtn" onclick="testarFreeFire()">
        TESTAR NO FREE FIRE
        
        <button onclick="salvarSensiAtual()">‚≠ê</button>
        
        <button onclick="mostrarSensisSalvas()">üìÇ</button>

    </button>

    <div class="resultado" id="resultado"></div>

    <div class="adminPanel" id="adminPanel">
        <h3 style="text-align:center;">üëë PAINEL DO DONO</h3>
        <input type="text" id="novaKey" placeholder="Nome da nova key">
        <input type="date" id="dataValidade">
        <button onclick="criarNovaKey()">CRIAR KEY</button>
        <div id="listaKeys"></div>
    </div>
</div>

<script>
/* ================= KEYS ================= */

const keyDono = "samuel1405@";
const keyPermanente = "samuekey2";

function carregarKeys(){
    let keys = JSON.parse(localStorage.getItem("keys") || "{}");
    if(!keys[keyPermanente]){
        keys[keyPermanente] = "permanente";
        localStorage.setItem("keys", JSON.stringify(keys));
    }
    return keys;
}

function salvarKeys(keys){
    localStorage.setItem("keys", JSON.stringify(keys));
}

function verificarKey(){
    let keyDigitada = document.getElementById("keyInput").value;
    let erro = document.getElementById("erro");

    if(keyDigitada === keyDono){
        abrirApp(true);
        return;
    }

    let keys = carregarKeys();

    if(!keys[keyDigitada]){
        erro.innerText = "Key inv√°lida!";
        return;
    }

    if(keys[keyDigitada] === "permanente"){
        abrirApp(false);
        return;
    }

    let hoje = new Date().toISOString().split("T")[0];

    if(hoje > keys[keyDigitada]){
        erro.innerText = "Key expirada!";
        return;
    }

    abrirApp(false);
}

function abrirApp(isDono){
    document.getElementById("loginBox").style.display="none";
    document.getElementById("appBox").style.display="block";
    if(isDono){
        document.getElementById("adminPanel").style.display="block";
        atualizarLista();
    }
}

function criarNovaKey(){
    let nome = document.getElementById("novaKey").value;
    let validade = document.getElementById("dataValidade").value;

    if(!nome || !validade){
        alert("Preencha tudo!");
        return;
    }

    let keys = carregarKeys();
    keys[nome] = validade;
    salvarKeys(keys);
    atualizarLista();
    document.getElementById("novaKey").value="";
}

function atualizarLista(){
    let keys = carregarKeys();
    let lista = document.getElementById("listaKeys");
    lista.innerHTML="";

    for(let nome in keys){
        let validadeTexto = keys[nome] === "permanente"
            ? "PERMANENTE üî•"
            : "at√© " + keys[nome];

        lista.innerHTML += `
            <div class="keyItem">
                ${nome} (${validadeTexto})
                ${nome !== keyPermanente
                    ? `<button onclick="deletarKey('${nome}')" style="background:red;width:60px;">DEL</button>`
                    : `<span style="color:lime;">FIXA</span>`
                }
            </div>
        `;
    }
}

function deletarKey(nome){
    if(nome === keyPermanente){
        alert("Essa key √© permanente!");
        return;
    }
    let keys = carregarKeys();
    delete keys[nome];
    salvarKeys(keys);
    atualizarLista();
}

/* ================= GERADOR ================= */

function random(min, max){
    return Math.floor(Math.random() * (max - min + 1)) + min;
}

let ultimaSensiGerada = "";

function criarSensi(){

    let celular = document.getElementById("celular").value;
    let tipo = document.getElementById("tipoSensi").value;

    let dpi;
    let baseMin, baseMax;

    if(tipo === "alta"){
        dpi = random(900,1440);
        baseMin = 185;
        baseMax = 200;
    }
    else if(tipo === "media"){
        dpi = random(600,800);
        baseMin = 150;
        baseMax = 170;
    }
    else{
        dpi = random(300,500);
        baseMin = 170;
        baseMax = 200;
    }

    let base = random(baseMin, baseMax);

    let geral = Math.min(Math.max(base,1),200);
    let redDot = Math.min(Math.max(base+5,1),200);
    let mira2x = Math.min(Math.max(base-8,1),200);
    let mira4x = Math.min(Math.max(base-15,1),200);
    let awm = Math.min(Math.max(base-22,1),200);
    let olhadinha = Math.min(Math.max(base+6,1),200);

    let sensiAtual = `${geral}-${redDot}-${mira2x}-${mira4x}-${awm}-${olhadinha}`;

    if(sensiAtual === ultimaSensiGerada){
        return criarSensi();
    }

    ultimaSensiGerada = sensiAtual;



    document.getElementById("resultado").innerHTML = `
        üì± Celular: ${celular}<br>
        üéØ Tipo: ${tipo.toUpperCase()}<br>
        ‚öô DPI: ${dpi}<br><br>
        üî• SENSI VIP BRABA:<br>
        GERAL: ${geral}<br>
        RED DOT: ${redDot}<br>
        MIRA 2X: ${mira2x}<br>
        MIRA 4X: ${mira4x}<br>
        AWM: ${awm}<br>
        OLHADINHA: ${olhadinha}<br><br>
    `;
    
// SALVAR AUTOMATICAMENTE NO BANCO ONLINE
      if(window.salvarNoBanco){
        window.salvarNoBanco({
        celular: celular,
        tipo: tipo,
        dpi: dpi,
        geral: geral,
        redDot: redDot,
        mira2x: mira2x,
        mira4x: mira4x,
        awm: awm,
        olhadinha: olhadinha,
        data: new Date().toISOString()
       });
    }

}


/* ================= PARTICLES ================= */

const canvas = document.getElementById("particles");
const ctx = canvas.getContext("2d");

canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

let particlesArray = [];

class Particle{
    constructor(){
        this.x = Math.random() * canvas.width;
        this.y = Math.random() * canvas.height;
        this.size = 3;
        this.speedX = (Math.random() - 0.5);
        this.speedY = (Math.random() - 0.5);
    }
    update(){
        this.x += this.speedX;
        this.y += this.speedY;

        if(this.x < 0 || this.x > canvas.width) this.speedX *= -1;
        if(this.y < 0 || this.y > canvas.height) this.speedY *= -1;
    }
    draw(){
        ctx.fillStyle = "#00ffcc";
        ctx.beginPath();
        ctx.arc(this.x,this.y,this.size,0,Math.PI*2);
        ctx.fill();
    }
}

function init(){
    particlesArray=[];
    for(let i=0;i<70;i++){
        particlesArray.push(new Particle());
    }
}

function connect(){
    for(let a=0;a<particlesArray.length;a++){
        for(let b=a;b<particlesArray.length;b++){
            let dx=particlesArray[a].x-particlesArray[b].x;
            let dy=particlesArray[a].y-particlesArray[b].y;
            let dist=dx*dx+dy*dy;

            if(dist<12000){
                ctx.strokeStyle="rgba(0,255,204,0.2)";
                ctx.lineWidth=1;
                ctx.beginPath();
                ctx.moveTo(particlesArray[a].x,particlesArray[a].y);
                ctx.lineTo(particlesArray[b].x,particlesArray[b].y);
                ctx.stroke();
            }
        }
    }
}

function animate(){
    ctx.clearRect(0,0,canvas.width,canvas.height);
    particlesArray.forEach(p=>{
        p.update();
        p.draw();
    });
    connect();
    requestAnimationFrame(animate);
}

init();
animate();

window.addEventListener("resize",()=>{
    canvas.width=window.innerWidth;
    canvas.height=window.innerHeight;
    init();
});
    
</script>
    
<!-- FIREBASE CONFIG PRONTA -->
<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js";
import { getFirestore, collection, addDoc } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-firestore.js";

const firebaseConfig = {
  apiKey: "COLE_AQUI_SUA_API_KEY",
  authDomain: "COLE_AQUI_SEU_AUTH_DOMAIN",
  projectId: "COLE_AQUI_SEU_PROJECT_ID",
  storageBucket: "COLE_AQUI_SEU_STORAGE_BUCKET",
  messagingSenderId: "COLE_AQUI_SEU_MESSAGING_SENDER_ID",
  appId: "COLE_AQUI_SEU_APP_ID"
};

const app = initializeApp(firebaseConfig);
const db = getFirestore(app);

// FUN√á√ÉO GLOBAL PARA SALVAR
window.salvarNoBanco = async function(dados){
    try{
        await addDoc(collection(db, "sensisGeradas"), dados);
        console.log("üî• Sensi salva online!");
    }catch(error){
        console.error("Erro Firebase:", error);
    }
}
</script>

<script>
// =============================
// SALVAR SENSI ATUAL ‚≠ê
// =============================
function salvarSensiAtual() {

  if (!window.sensiAtual) {
    alert("Gere uma sensi primeiro!");
    return;
  }

  let banco = JSON.parse(localStorage.getItem("bancoSensi")) || [];
  banco.push(window.sensiAtual);

  localStorage.setItem("bancoSensi", JSON.stringify(banco));

  alert("Sensi salva com sucesso ‚≠ê");
}

// =============================
// MOSTRAR SENSIS SALVAS üìÇ
// =============================
function mostrarSensisSalvas() {

  let banco = JSON.parse(localStorage.getItem("bancoSensi")) || [];

  if (banco.length === 0) {
    alert("Nenhuma sensi salva ainda.");
    return;
  }

  let lista = "<h3>SENSIS SALVAS üìÇ</h3>";

  banco.forEach((s, i) => {
    lista += `
      <div style="margin:10px;padding:10px;background:#111;border-radius:8px;">
        <b>Sensi ${i+1}</b><br>
        ${Object.entries(s).map(([k,v]) => k + ": " + v).join("<br>")}
      </div>
    `;
  });

  document.getElementById("resultado").innerHTML = lista;
}
</script>

</body>
</html>
